<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <composite:interface >



    </composite:interface>
    <composite:implementation>

        <p:autoComplete dropdown="true"
                        multiple="true"
                        id="viajes"

                        rendered="#{calendarioSolicitudViajesController.esAprobado}"
                        scrollHeight="250"
                        size="55"
                        emptyMessage="#{app['info.nohayregistros']}"
                        value="#{calendarioSolicitudViajesController.viajesDisponiblesList}"
                        completeMethod="#{calendarioSolicitudViajesController.completeViajesDisponibles}"
                        var="p"
                        required="false"

                        itemLabel="( #{p.idviaje} )"
                        itemValue="#{p}" forceSelection="true">
            <f:converter binding="#{viajeConverter}"/>
            <f:attribute name="field" value="idsolicitud"/>
            <f:attribute name="fielddropdown" value="false"/>
            <f:attribute name="fromstart" value="true"/>
            <f:attribute name="fieldquerylenth" value="0"/>

            <p:ajax event="itemSelect" listener="#{calendarioSolicitudViajesController.handleSelect}"
                    update="eventDetails"
                    />
            <p:ajax event="itemUnselect"  listener="#{calendarioSolicitudViajesController.handleSelect}"
                    update="eventDetails"
                    />

            <f:facet name="itemtip">
                <h:panelGrid columns="2" cellpadding="5">


                    <p:outputLabel  value="#{msg['field.lugarpartida']}" />
                    <p:outputLabel  value="#{p.lugarpartida}"  title="#{msg['field.lugarpartida']}" />


                    <h:outputText value="#{msg['field.fechahorainicioreserva']}" />
                    <h:panelGroup>
                        <p:calendar  disabled="true"  size="8"                                  
                                     style="background-color: grey;"
                                     pattern="dd/MM/yyyy" value="#{p.fechahorainicioreserva}"  />
                        <p:calendar  disabled="true"    
                                     size="8" 
                                     pattern="HH:mm:ss a" value="#{p.fechahorainicioreserva}"  />
                    </h:panelGroup>

                    <h:outputText value="#{msg['field.fecharegreso']}" />
                    <h:panelGroup>
                        <p:calendar  disabled="true"    
                                     size="8" 
                                     pattern="dd/MM/yyyy" value="#{p.fechahorafinreserva}"  />
                        <p:calendar  disabled="true"   
                                     size="8" 
                                     pattern="HH:mm:ss a" value="#{p.fechahorafinreserva}"  />

                    </h:panelGroup>








                </h:panelGrid>
            </f:facet>

        </p:autoComplete>
    </composite:implementation>

</html>
